(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5042:function(){},1774:function(e,t,n){Promise.resolve().then(n.t.bind(n,9671,23)),Promise.resolve().then(n.bind(n,3097))},3097:function(e,t,n){"use strict";n.d(t,{default:function(){return C}});var r=n(7437),o=n(2265),l=function(e,t){let n={...e};for(let e of t)delete n[e];return n};function i(e){return"object"==typeof e&&null!==e}var s=function(e,t){if(!i(e)||!i(t))return e===t;let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||e[r]!==t[r])return!1;return!0},u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(e){let t=(0,o.useRef)(e);return s(e,t.current)||(t.current=e),t.current}(n);(0,o.useEffect)(function(){if(!r.disabled){let n=l(r,["disabled"]);return document.addEventListener(e,t,n),function(){document.removeEventListener(e,t,n)}}},[e,t,r])},c=n(2831),a=n.n(c);function f(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function d(e){if(1===e.childNodes.length&&e.childNodes[0]instanceof Text)return e.childNodes[0]}let p=(0,o.forwardRef)(function(e,t){let{value:n,onChange:l}=e,i=(0,o.useCallback)(function(e){var t;l(null!==(t=e.currentTarget.textContent)&&void 0!==t?t:"")},[l]),s=(0,o.useRef)(null);return(0,o.useLayoutEffect)(function(){let e=s.current&&d(s.current),t=e&&function(e){let t=window.getSelection();if(!t)return;let n=[];for(let r=0;r<t.rangeCount;++r){let o=t.getRangeAt(r);o.startContainer===e&&o.endContainer===e&&n.push([o.startOffset,o.endOffset])}return n.length>0?{ranges:n}:void 0}(e);if(s.current&&s.current.textContent!==n){s.current.textContent=n;let e=d(s.current);e&&t&&function(e,t){let n=window.getSelection();if(!n)return;let r=!1;for(let o of(n.removeAllRanges(),t.ranges))try{let t=document.createRange();t.setStart(e,o[0]),t.setEnd(e,o[1]),n.addRange(t),r=!0}catch(e){}if(!r)try{n.addRange(function(e){var t;let n=document.createRange(),r=(null!==(t=e.textContent)&&void 0!==t?t:"").length;return n.setStart(e,r),n.setEnd(e,r),n}(e))}catch(e){console.log("Failed to place cursor at end of prompt",e)}}(e,t)}}),(0,r.jsx)("span",{className:a().editableArea,ref:function(e){f(t,e),f(s,e)},contentEditable:!0,suppressContentEditableWarning:!0,onInput:i,onKeyDown:e.onKeyDown,spellCheck:!1,autoFocus:!0,enterKeyHint:"done"})}),h=Symbol("newInput");function m(e){var t;let[n,l]=(0,o.useState)({offset:0,[h]:""}),{onSubmit:i,getHistoricalInput:s}=e,c=(0,o.useCallback)(function(e){l(function(t){return{...t,[t.offset]:e}})},[l]),a=(0,o.useRef)(null);return u("click",function(e){var t;null===(t=a.current)||void 0===t||t.focus()}),(0,r.jsxs)("div",{children:[e.prompt,(0,r.jsx)(p,{ref:a,value:null!==(t=n[n.offset])&&void 0!==t?t:"",onChange:c,onKeyDown:function(e){var t,r,o;if("Enter"===e.key)i(null!==(t=e.currentTarget.textContent)&&void 0!==t?t:""),l({offset:h,[h]:""}),e.preventDefault();else if("ArrowUp"===e.key||"ArrowDown"===e.key){let t=(r=n.offset,o="ArrowUp"===e.key?1:-1,r===h?1===o?0:h:0===r&&-1===o?h:r+o);if(t!==n.offset){let r=n[t];void 0===r&&(r=s(t)),void 0!==r&&(l(function(e){return{...e,offset:t,[t]:r}}),e.preventDefault())}}window.scrollTo(0,document.body.scrollHeight)}})]})}var b=n(8997),v=n.n(b);function x(e){return(0,r.jsxs)("div",{className:v().terminal,children:[e.children,(0,r.jsx)(m,{prompt:e.prompt,onSubmit:e.onSubmit,getHistoricalInput:e.getHistoricalInput})]})}var y=n(1346),g=n(282),j=n.n(g);function w(e){return(0,r.jsxs)("div",{className:j().container,children:[(0,r.jsx)("div",{children:e.rolls}),(0,r.jsxs)("div",{className:j().total,children:[(0,r.jsx)("span",{className:j().divider,children:"="}),e.total]})]})}function _(){return(0,r.jsxs)("div",{children:["dice.sh is a console-like online dice roller (",(0,r.jsx)("a",{href:"https://github.com/itsjohncs/dice.sh",children:"GitHub"}),"). If you like it and want more"," ",(0,r.jsx)("a",{href:"https://twitter.com/itsjohncs",children:"tweet"})," or ",(0,r.jsx)("a",{href:"https://tech.lgbt/@johncs",children:"toot"})," at me.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"Enter dice notation to roll dice. For example:",(0,r.jsx)("br",{}),"- 2d20+5",(0,r.jsx)("br",{}),"- 5d10!k2",(0,r.jsx)("br",{}),"(",(0,r.jsx)("a",{href:"https://dice-roller.github.io/documentation/guide/notation/",children:"Full dice notation documentation"}),")",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"You can also use these special commands:",(0,r.jsx)("br",{}),"- /help: Show this message.",(0,r.jsx)("br",{}),"- /clear: Clear history."]})}var k=n(750);function C(){let[e,t]=(0,k.Xs)("roll-log",[{type:"simple-info",subType:"help"}]),n=(0,o.useCallback)(function(t){let n=e.filter(e=>e.input&&""!==e.input.trim());if(t<n.length)return n[n.length-t-1].input},[e]),l=(0,o.useCallback)(function(e){t(function(t){let n=function(e){if(""===e.trim())return{type:"error",input:e,error:"Error: No input. Try /help."};let t=e.trim();if(t.startsWith("/"))return"/help"===t?{type:"simple-info",input:e,subType:"help"}:"/clear"===t?{type:"clear"}:{type:"error",input:e,error:"Error: Unknown command. Try /help."};try{let t=new y.f1(e);return{type:"roll",input:e,result:{rolls:t.rolls.join(""),total:t.total+""}}}catch(t){return{type:"error",input:e,error:t+""}}}(e);return"clear"===n.type?[]:[...t,n]})},[t]),i=[];for(let t=0;t<e.length;++t){let n=e[t];void 0!==n.input&&i.push((0,r.jsxs)("div",{children:["$ ",n.input]},"".concat(t,"-input"))),"roll"===n.type?i.push((0,r.jsx)(w,{rolls:n.result.rolls,total:n.result.total},t)):"error"===n.type?i.push((0,r.jsx)("div",{children:n.error},t)):"simple-info"===n.type&&"help"===n.subType&&i.push((0,r.jsx)(_,{},t))}return(0,r.jsx)(x,{prompt:"$ ",onSubmit:l,getHistoricalInput:n,children:i})}},2831:function(e){e.exports={editableArea:"EditableArea_editableArea__fAIQS"}},282:function(e){e.exports={container:"RollResult_container__sODCt",total:"RollResult_total__gV_am",divider:"RollResult_divider__S5wD7"}},8997:function(e){e.exports={terminal:"Terminal_terminal__fcWdR"}},9671:function(e){e.exports={main:"page_main__GlU4n"}}},function(e){e.O(0,[618,720,131,971,23,744],function(){return e(e.s=1774)}),_N_E=e.O()}]);